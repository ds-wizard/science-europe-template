<div id="q-docs-metadata" class="question">
  <h3>What documentation and meta-data will accompany the data?</h3>
  {%- scope -%}
  <div class="answer">
    <p>List of data to be published is given in Section E, Question 9. This also includes information about catalogs where the data can be found. Information about data types used is given in Section A, Question 1.</p>

    {# Good provenance (lab notebooks) #}
    {%- set provenancePath = join([preservingCUuid, provenanceQUuid], ".") -%}
    {%- set provenanceAUuid = repliesMap[provenancePath].value.value -%}
    {%- if provenanceAUuid == provenanceLabNotebooksAUuid -%}
      <p>We will use lab notebooks to make sure that there is good provenance of the data analysis.</p>
    {%- elif provenanceAUuid == provenanceELabNotebookAUuid -%}
      <p>We will use an electronic lab notebook to make sure that there is good provenance of the data analysis.</p>
    {%- elif provenanceAUuid == provenanceOtherAUuid -%}
      {%- set provenanceOtherPath = join([provenancePath, provenanceOtherAUuid, provenanceOtherQUuid], ".") -%}
      {%- set provenanceOther = repliesMap[provenanceOtherPath].value.value -%}
      <p>We will use other solution than (electronic) lab notebooks to make sure that there is good provenance of the data analysis{{ provenanceOther ? ": " ~ provenanceOther : "" }}{{ endswith(provenanceOther, ".") ? "" : "." }}
    {%- endif -%}

    {# Documentation with metadata #}
    {%- set documentDataPath = join([preservingCUuid, documentDataQUuid], ".") -%}
    {%- set documentDataAUuid = repliesMap[documentDataPath].value.value -%}
    {%- if documentDataAUuid == documentDataExploreAUuid -%}
      {%- set documentDataDCPath = join([documentDataPath, documentDataExploreAUuid, documentDataDCQUuid], ".") -%}
      {%- set documentDataDCAUuid = repliesMap[documentDataDCPath].value.value -%}
      {%- set documentDataW3CPath = join([documentDataPath, documentDataExploreAUuid, documentDataW3CQUuid], ".") -%}
      {%- set documentDataW3CAUuid = repliesMap[documentDataW3CPath].value.value -%}
      {%- set usingDC = documentDataDCAUuid == documentDataDCYesAUuid -%}
      {%- set usingW3C = documentDataW3CAUuid == documentDataW3CYesAUuid -%}
      {%- if usingDC || usingW3C %}
        <p>
          We will be documenting the data with
          {% if usingDC && usingW3C -%}
            Dublin Core metadata and W3C PROV provenance. 
          {%- elif usingDC -%}
            Dublin Core metadata. 
          {%- elif usingW3C -%}
            W3C PROV provenance. 
          {%- endif -%}
        </p>
      {%- endif -%}
    {%- endif -%}
  </div>
  {%- endscope -%}
</div>
